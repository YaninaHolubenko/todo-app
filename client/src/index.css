/* client/src/index.css */
:root{
  --bg-image: none;

  /* neutrals */
  --text: #2b2b2b;
  --muted: #7c7a74;
  --ring: #c9a37b;
  --border: rgba(255,255,255,.42);

  /* warm palette (cooler brown tone) */
  --primary: #8d6f5a;
  --primary-600: #6f5848;
  --primary-50: rgba(141,111,90,.22);

  --accent: #e6ddcf;
  --accent-50: rgba(230,221,207,.55);

  --danger: #a16450;
  --danger-600: #8d5645;

  /* glass */
  --glass: rgba(255,255,255,.45);
  --glass-border: rgba(255,255,255,.35);

  --radius: 18px;
  --shadow: 0 20px 45px rgba(0,0,0,.12);
  --shadow-soft: 0 10px 28px rgba(0,0,0,.08);
}

/* ===================== Base ===================== */
*{ box-sizing: border-box; }
html, body{ height: 100%; }

@keyframes fadein{ from{opacity:0} to{opacity:1} }
@keyframes fadeUp{ from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:none} }

body{
  margin: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  color: var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background:
    radial-gradient(1200px 600px at 10% -10%, var(--accent-50), transparent 60%),
    radial-gradient(1200px 600px at 110% 10%, rgba(0,0,0,.08), transparent 65%);
  animation: fadein .35s ease-out both;
}

/* photo background layer */
body::before{
  content: '';
  position: fixed;
  inset: 0;
  background: var(--bg-image) center/cover no-repeat fixed;
  z-index: 0;
  pointer-events: none;
}

/* ensure root fills the row */
#root{ width: 100%; }

/* anchor content under the fixed topbar once signed in */
.with-topbar{ align-items: stretch; }

/* ===================== Reusable glass cards ===================== */
.auth-container-box,
.list-item,
.modal{
  background: var(--glass);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  -webkit-backdrop-filter: blur(14px) saturate(140%);
  backdrop-filter: blur(14px) saturate(140%);
  animation: fadeUp .35s ease both;
}

/* generic small text utility (used by header/topbar/profile) */
.user-email{
  margin: 10px 0 4px;
  font-size: 13px;
  color: var(--muted);
}

/* ===================== Inputs ===================== */
input{
  width: 100%;
  margin: 12px 0;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.55);
  background: rgba(255,255,255,.65);
  color: var(--text);
  outline: none;
  transition: box-shadow .15s ease, border-color .15s ease, background-color .15s ease;
}
input:focus{
  border-color: var(--ring);
  box-shadow: 0 0 0 4px rgba(201,163,123,.18);
}
input[aria-label="Search tasks"]{
  margin-top: 8px;
  height: 44px;
  padding: 10px 14px;
  border-radius: 14px;
  background: rgba(255,255,255,.68);
}

/* Accessible unified focus */
:where(button, [role="button"], input, .pill, .chipbar button):focus-visible{
  outline: none;
  border-color: var(--ring);
  box-shadow: 0 0 0 4px rgba(201,163,123,.18);
}

/* ===================== Buttons ===================== */
.button-container{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.button-container button{
  appearance:none;
  border-radius: 999px;
  font-size: 13px;
  padding: 10px 16px;
  border: 1px solid rgba(255,255,255,.55);
  background: rgba(255,255,255,.6);
  color: var(--text);
  cursor: pointer;
  transition: transform .06s ease, background-color .15s ease, border-color .15s ease, color .15s ease;
}
.button-container button:hover{ background: rgba(255,255,255,.75); }
.button-container button:active{ transform: translateY(1px); }

/* selected look for chips */
.button-container button.active,
.button-container button.is-active,
.button-container button[aria-pressed="true"]{
  background: var(--primary-50);
  color: var(--primary-600);
  border-color: rgba(111,88,72,.58);
}

/* action buttons used inside task cards */
.create{
  background: var(--primary);
  color: #fff;
  border: 1px solid var(--primary-600);
}
.create:hover{ background: var(--primary-600); }

.edit{
  color: var(--primary-600);
  border-color: rgba(111,88,72,.45);
  background: var(--primary-50);
}
.edit:hover{ background: rgba(141,111,90,.18); }

.delete{
  color: var(--danger-600);
  border-color: rgba(161,100,80,.35);
  background: rgba(161,100,80,.10);
}
.delete:hover{ background: rgba(161,100,80,.18); }

/* scope signout so the header button can be styled in Topbar.css */
.app .signout{
  background: rgba(161,100,80,.9);
  color: #fff;
  border: 1px solid var(--danger-600);
}
.app .signout:hover{ background: var(--danger-600); }

/* universal button */
.btn{
  appearance: none;
  border: 1px solid rgba(255,255,255,.55);
  background: rgba(255,255,255,.6);
  color: var(--text);
  height: 44px;
  padding: 0 16px;
  border-radius: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: transform .06s ease, background-color .15s ease, border-color .15s ease, color .15s ease, box-shadow .15s ease;
}
.btn:hover{ background: rgba(255,255,255,.75); }
.btn:active{ transform: translateY(1px); }
.btn.primary{
  background: var(--primary);
  color: #fff;
  border-color: var(--primary-600);
}
.btn.primary:hover{ background: var(--primary-600); }
.btn.wide{ width: 100%; }

/* ===================== Responsive ===================== */
@media (max-width:414px){
  .user-email{ float:none; }
}

/* ===================== Backdrop fallback ===================== */
.auth-container-box,
.list-item,
.modal{
  background: rgba(255,255,255,.9);
}
@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .auth-container-box,
  .list-item,
  .modal{
    background: var(--glass);
  }
}

/* ===================== Reduced motion ===================== */
@media (prefers-reduced-motion: reduce){
  *, *::before, *::after{
    animation: none !important;
    transition: none !important;
  }
}
